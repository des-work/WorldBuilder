<ResourceDictionary xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                    xmlns:viewmodels="clr-namespace:Genisis.Presentation.Wpf.ViewModels">

    <!-- Color Palette -->
    <SolidColorBrush x:Key="PrimaryBackground" Color="#2c3e50"/>
    <SolidColorBrush x:Key="SecondaryBackground" Color="#34495e"/>
    <SolidColorBrush x:Key="PrimaryText" Color="#ecf0f1"/>
    <SolidColorBrush x:Key="AccentGreen" Color="#27ae60"/>
    <SolidColorBrush x:Key="AccentBrown" Color="#8d6e63"/>

    <!-- Converters -->
    <BooleanToVisibilityConverter x:Key="BooleanToVisibilityConverter"/>

    <!-- Animations -->
    <Style x:Key="FadeOutTextBlock" TargetType="TextBlock">
        <Setter Property="Opacity" Value="0"/>
        <Style.Triggers>
            <DataTrigger Binding="{Binding IsSavedMessageVisible}" Value="True">
                <DataTrigger.EnterActions>
                    <BeginStoryboard>
                        <Storyboard>
                            <DoubleAnimation Storyboard.TargetProperty="Opacity" From="1" To="0" Duration="0:0:2"/>
                        </Storyboard>
                    </BeginStoryboard>
                </DataTrigger.EnterActions>
            </DataTrigger>
        </Style.Triggers>
    </Style>

    <!-- Data Templates -->
    <DataTemplate x:Key="UniverseViewTemplate" DataType="{x:Type viewmodels:UniverseViewModel}">
        <StackPanel Margin="20">
            <TextBox Text="{Binding Universe.Name, UpdateSourceTrigger=PropertyChanged, ValidatesOnNotifyDataErrors=True}"
                     FontSize="28" FontWeight="Bold" Foreground="{StaticResource PrimaryText}"
                     Background="Transparent" BorderThickness="0" Margin="0,0,0,10"/>
            <ItemsControl ItemsSource="{Binding GetErrors(Universe.Name)}" Margin="0,0,0,10">
                <ItemsControl.ItemTemplate>
                    <DataTemplate>
                        <TextBlock Text="{Binding}" Foreground="Red" FontSize="12"/>
                    </DataTemplate>
                </ItemsControl.ItemTemplate>
            </ItemsControl>
            <TextBox Text="{Binding Universe.Description, UpdateSourceTrigger=PropertyChanged, ValidatesOnNotifyDataErrors=True}"
                     Margin="0,15,0,0" MinHeight="150" TextWrapping="Wrap" AcceptsReturn="True"
                     Background="#252526" Foreground="{StaticResource PrimaryText}"
                     BorderThickness="0" VerticalScrollBarVisibility="Auto"/>
            <ItemsControl ItemsSource="{Binding GetErrors(Universe.Description)}" Margin="0,5,0,0">
                <ItemsControl.ItemTemplate>
                    <DataTemplate>
                        <TextBlock Text="{Binding}" Foreground="Red" FontSize="12"/>
                    </DataTemplate>
                </ItemsControl.ItemTemplate>
            </ItemsControl>
            <Grid Margin="0,20,0,0">
                <Button Content="Save Changes" Command="{Binding SaveCommand}"
                        Background="{StaticResource AccentGreen}" Foreground="White" BorderThickness="0"
                        HorizontalAlignment="Left" Padding="15,8"/>
                <TextBlock Text="Saved!" Foreground="{StaticResource AccentGreen}" FontWeight="Bold"
                           HorizontalAlignment="Left" VerticalAlignment="Center" Margin="120,0,0,0"
                           Style="{StaticResource FadeOutTextBlock}"/>
            </Grid>
        </StackPanel>
    </DataTemplate>

    <DataTemplate x:Key="StoryViewTemplate" DataType="{x:Type viewmodels:StoryViewModel}">
        <StackPanel Margin="20">
            <TextBlock Text="{Binding Story.Name}"
                       Foreground="{StaticResource PrimaryText}"
                       FontSize="28" FontWeight="Bold"/>
            <TextBlock Text="Logline" Foreground="{StaticResource PrimaryText}" FontSize="14" Margin="0,15,0,5" Opacity="0.7"/>
            <TextBox Text="{Binding Story.Logline, UpdateSourceTrigger=PropertyChanged}"
                     MinHeight="100" TextWrapping="Wrap" AcceptsReturn="True"
                     Background="#252526" Foreground="{StaticResource PrimaryText}"
                     BorderThickness="0" VerticalScrollBarVisibility="Auto"/>
            <Grid Margin="0,20,0,0">
                <Button Content="Save Changes" Command="{Binding SaveCommand}"
                        Background="{StaticResource AccentGreen}" Foreground="White" BorderThickness="0"
                        HorizontalAlignment="Left" Padding="15,8"/>
                <TextBlock Text="Saved!" Foreground="{StaticResource AccentGreen}" FontWeight="Bold"
                           HorizontalAlignment="Left" VerticalAlignment="Center" Margin="120,0,0,0"
                           Style="{StaticResource FadeOutTextBlock}"/>
            </Grid>
        </StackPanel>
    </DataTemplate>

    <DataTemplate x:Key="CharacterViewTemplate" DataType="{x:Type viewmodels:CharacterViewModel}">
        <StackPanel Margin="20">
            <TextBlock Text="{Binding Character.Name}"
                       Foreground="{StaticResource PrimaryText}"
                       FontSize="28" FontWeight="Bold"/>

            <TextBlock Text="Tier" Foreground="{StaticResource PrimaryText}" FontSize="14" Margin="0,15,0,5" Opacity="0.7"/>
            <ComboBox ItemsSource="{Binding Tiers}"
                      SelectedItem="{Binding Character.Tier}"
                      Background="#252526" Foreground="{StaticResource PrimaryText}" BorderThickness="0"/>

            <TextBlock Text="Biography" Foreground="{StaticResource PrimaryText}" FontSize="14" Margin="0,15,0,5" Opacity="0.7"/>
            <TextBox Text="{Binding Character.Bio, UpdateSourceTrigger=PropertyChanged}"
                     MinHeight="200" TextWrapping="Wrap" AcceptsReturn="True"
                     Background="#252526" Foreground="{StaticResource PrimaryText}"
                     BorderThickness="0" VerticalScrollBarVisibility="Auto"/>

            <TextBlock Text="Notes" Foreground="{StaticResource PrimaryText}" FontSize="14" Margin="0,15,0,5" Opacity="0.7"/>
            <TextBox Text="{Binding Character.Notes, UpdateSourceTrigger=PropertyChanged}"
                     MinHeight="100" TextWrapping="Wrap" AcceptsReturn="True"
                     Background="#252526" Foreground="{StaticResource PrimaryText}"
                     BorderThickness="0" VerticalScrollBarVisibility="Auto"/>

            <Grid Margin="0,20,0,0">
                <Button Content="Save Changes" Command="{Binding SaveCommand}"
                        Background="{StaticResource AccentGreen}" Foreground="White" BorderThickness="0"
                        HorizontalAlignment="Left" Padding="15,8"/>
                <TextBlock Text="Saved!" Foreground="{StaticResource AccentGreen}" FontWeight="Bold"
                           HorizontalAlignment="Left" VerticalAlignment="Center" Margin="120,0,0,0"
                           Style="{StaticResource FadeOutTextBlock}"/>
            </Grid>
        </StackPanel>
    </DataTemplate>

    <DataTemplate x:Key="ChapterViewTemplate" DataType="{x:Type viewmodels:ChapterViewModel}">
        <StackPanel Margin="20">
            <TextBlock Text="{Binding Chapter.Title}"
                       Foreground="{StaticResource PrimaryText}"
                       FontSize="28" FontWeight="Bold"/>

            <TextBlock Text="Content" Foreground="{StaticResource PrimaryText}" FontSize="14" Margin="0,15,0,5" Opacity="0.7"/>
            <TextBox Text="{Binding Chapter.Content, UpdateSourceTrigger=PropertyChanged}"
                     MinHeight="400" TextWrapping="Wrap" AcceptsReturn="True"
                     Background="#252526" Foreground="{StaticResource PrimaryText}"
                     BorderThickness="0" VerticalScrollBarVisibility="Auto"
                     FontFamily="Segoe UI" FontSize="14"/>

            <Grid Margin="0,20,0,0">
                <Button Content="Save Changes" Command="{Binding SaveCommand}"
                        Background="{StaticResource AccentGreen}" Foreground="White" BorderThickness="0"
                        HorizontalAlignment="Left" Padding="15,8"/>
                <TextBlock Text="Saved!" Foreground="{StaticResource AccentGreen}" FontWeight="Bold"
                           HorizontalAlignment="Left" VerticalAlignment="Center" Margin="120,0,0,0"
                           Style="{StaticResource FadeOutTextBlock}"/>
            </Grid>
        </StackPanel>
    </DataTemplate>

</ResourceDictionary>
